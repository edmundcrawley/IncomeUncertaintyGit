# Archive of basic regression plot done on n=10


###############################################################################
# Pull in consumption saving numbers from Python output
FromPython <- scan(paste(PythonResults_folder,'basic_regressions.txt',sep=''), what=double(), sep=",")
FromPython <- scan(paste(PythonResults_folder,'benchmark_br_all.txt',sep=''), what=double(), sep=",")
solow_spending = 0.73
# Now draw graph
#png(paste(figures_dir, "basic_regression_complete",tag,".png",sep=""))
pdf(paste(figures_dir, "basic_regression_complete",tag,".pdf",sep=""))
#svg(paste(figures_dir, "basic_regression_complete",tag,".svg",sep=""))
par(mar=c(8,7,4,5)+0.1,cex.axis=1.2,cex.lab=1.5)
plot(array(0.0,dim=dim(reg_coefs)), ylim=c(0,1),lty='solid',col='blue',type='o', xlab='N, Years of Growth',ylab=TeX('$\\beta^N$, Regression Coefficient'),main='Regressing Consumption Growth on Income Growth')
legend(6, 0.53, legend=c("Complete Markets","","",""), col=c("blue","green","red","black"),lty=c("solid","solid","solid","solid"),bty="n")
dev.off()
#png(paste(figures_dir, "basic_regression_solow",tag,".png",sep=""))
pdf(paste(figures_dir, "basic_regression_solow",tag,".pdf",sep=""))
#svg(paste(figures_dir, "basic_regression_solow",tag,".svg",sep=""))
par(mar=c(8,7,4,5)+0.1,cex.axis=1.2,cex.lab=1.5)
plot(array(0.0,dim=dim(reg_coefs)), ylim=c(0,1),lty='solid',col='blue',type='o', xlab='N, Years of Growth',ylab=TeX('$\\beta^N$, Regression Coefficient'),main='Regressing Consumption Growth on Income Growth')
lines(array(solow_spending,dim=dim(reg_coefs)),lty='solid',col='green',type='o')
legend(6, 0.53, legend=c("Complete Markets","Solow","",""), col=c("blue","green","red","black"),lty=c("solid","solid","solid","solid"),bty="n")
dev.off()
#png(paste(figures_dir, "basic_regression_BS",tag,".png",sep=""))
pdf(paste(figures_dir, "basic_regression_BS",tag,".pdf",sep=""))
#svg(paste(figures_dir, "basic_regression_BS",tag,".svg",sep=""))
par(mar=c(8,7,4,5)+0.1,cex.axis=1.2,cex.lab=1.5)
plot(array(0.0,dim=dim(reg_coefs)), ylim=c(0,1),lty='solid',col='blue',type='o', xlab='N, Years of Growth',ylab=TeX('$\\beta^N$, Regression Coefficient'),main='Regressing Consumption Growth on Income Growth')
lines(array(solow_spending,dim=dim(reg_coefs)),lty='solid',col='green',type='o')
lines(FromPython[1:dim(reg_coefs)[1]],lty='solid',col='red',type='o')
legend(6, 0.53, legend=c("Complete Markets","Solow","Buffer-Stock",""), col=c("blue","green","red","black"),lty=c("solid","solid","solid","solid"),bty="n")
arrows(2, 0.12, 9, 0.12)
arrows(9, 0.12, 2, 0.12)
text(3.5, 0.22, labels = "Relatively more \n transitory variance")
text(7.5, 0.22, labels = "Relatively more \n permanent variance")
dev.off()
#png(paste(figures_dir, "basic_regression",tag,".png",sep=""))
pdf(paste(figures_dir, "basic_regression",tag,".pdf",sep=""))
#svg(paste(figures_dir, "basic_regression",tag,".svg",sep=""))
par(mar=c(8,7,4,5)+0.1,cex.axis=1.2,cex.lab=1.5)
plot(array(0.0,dim=dim(reg_coefs)), ylim=c(0,1),lty='solid',col='blue',type='o', xlab='N, Years of Growth',ylab=TeX('$\\beta^N$, Regression Coefficient'),main='Regressing Consumption Growth on Income Growth')
lines(array(solow_spending,dim=dim(reg_coefs)),lty='solid',col='green',type='o')
lines(FromPython[1:dim(reg_coefs)[1]],lty='solid',col='red',type='o')
points(reg_coefs)
lines(reg_coefs)
lines(reg_coefs+1.96*std_errors,lty='dashed')
lines(reg_coefs-1.96*std_errors,lty='dashed')
legend(6, 0.53, legend=c("Complete Markets","Solow","Buffer-Stock","Data"), col=c("blue","green","red","black"),lty=c("solid","solid","solid","solid"),bty="n")
arrows(2, 0.12, 9, 0.12)
arrows(9, 0.12, 2, 0.12)
text(3.5, 0.22, labels = "Relatively more \n transitory variance")
text(7.5, 0.22, labels = "Relatively more \n permanent variance")
dev.off()
#png(paste(figures_dir, "basic_regression_liquid_wealth",tag,".png",sep=""))
pdf(paste(figures_dir, "basic_regression_liquid_wealth",tag,".pdf",sep=""))
#svg(paste(figures_dir, "basic_regression_liquid_wealth",tag,".svg",sep=""))
par(mar=c(8,7,4,5)+0.1,cex.axis=1.2,cex.lab=1.5)
plot(array(0.0,dim=dim(reg_coefs)), ylim=c(0,1),lty='solid',col='blue',type='o', xlab='N, Years of Growth',ylab=TeX('$\\beta^N$, Regression Coefficient'),main='Regressing Consumption Growth on Income Growth')
lines(array(solow_spending,dim=dim(reg_coefs)),lty='solid',col='green',type='o')
lines(FromPython[1:dim(reg_coefs)[1]],lty='solid',col='red',type='o')
points(reg_coefs,col='gray')
lines(reg_coefs,col='gray')
lines(reg_coefs+1.96*std_errors,lty='dashed',col='gray')
lines(reg_coefs-1.96*std_errors,lty='dashed',col='gray')
#Add high and low liquid quantiles
points(reg_coefs_liquid_wealth$X1)
lines(reg_coefs_liquid_wealth$X1)
lines(reg_coefs_liquid_wealth$X1+1.96*std_errors_liquid_wealth$X1,lty='dashed')
lines(reg_coefs_liquid_wealth$X1-1.96*std_errors_liquid_wealth$X1,lty='dashed')
points(reg_coefs_liquid_wealth$X5)
lines(reg_coefs_liquid_wealth$X5)
lines(reg_coefs_liquid_wealth$X5+1.96*std_errors_liquid_wealth$X5,lty='dashed')
lines(reg_coefs_liquid_wealth$X5-1.96*std_errors_liquid_wealth$X5,lty='dashed')
legend(6, 0.53, legend=c("Complete Markets","Solow","Buffer-Stock","Data"), col=c("blue","green","red","black"),lty=c("solid","solid","solid","solid"),bty="n")
arrows(2, 0.12, 9, 0.12)
arrows(9, 0.12, 2, 0.12)
text(3.5, 0.22, labels = "Relatively more \n transitory variance")
text(7.5, 0.22, labels = "Relatively more \n permanent variance")
text(3.0, 0.92, labels = "Least Liquid")
text(3.75, 0.44, labels = "Most Liquid")
dev.off()

pdf(paste(figures_dir, "basic_regression_for_paper",tag,".pdf",sep=""))
par(mar=c(8,7,4,5)+0.1,cex.axis=1.2,cex.lab=1.5)
plot(array(0.0,dim=dim(reg_coefs)), ylim=c(0,1),lty='solid',col='blue',type='o', xlab='N, Years of Growth',ylab=TeX('$\\beta^N$, Regression Coefficient'),main='Regressing Consumption Growth on Income Growth')
lines(array(solow_spending,dim=dim(reg_coefs)),lty='solid',col='green',type='o')
lines(FromPython[1:dim(reg_coefs)[1]],lty='solid',col='red',type='o')
points(reg_coefs,col='black')
lines(reg_coefs,col='black')
lines(reg_coefs+1.96*std_errors,lty='dashed',col='black')
lines(reg_coefs-1.96*std_errors,lty='dashed',col='black')
#Add high and low liquid quantiles
points(reg_coefs_liquid_wealth$X1)
lines(reg_coefs_liquid_wealth$X1)
lines(reg_coefs_liquid_wealth$X1+1.96*std_errors_liquid_wealth$X1,lty='dashed')
lines(reg_coefs_liquid_wealth$X1-1.96*std_errors_liquid_wealth$X1,lty='dashed')
points(reg_coefs_liquid_wealth$X5)
lines(reg_coefs_liquid_wealth$X5)
lines(reg_coefs_liquid_wealth$X5+1.96*std_errors_liquid_wealth$X5,lty='dashed')
lines(reg_coefs_liquid_wealth$X5-1.96*std_errors_liquid_wealth$X5,lty='dashed')
legend(6, 0.53, legend=c("Complete Markets","Solow","Buffer-Stock","Data"), col=c("blue","green","red","black"),lty=c("solid","solid","solid","solid"),bty="n")
arrows(2, 0.12, 9, 0.12)
arrows(9, 0.12, 2, 0.12)
text(3.5, 0.22, labels = "Relatively more \n transitory variance")
text(7.5, 0.22, labels = "Relatively more \n permanent variance")
text(5.5, 0.69, labels = "All Households", cex=0.8)
text(3.0, 0.88, labels = "Least Liquid", cex=0.8)
text(3.75, 0.41, labels = "Most Liquid", cex=0.8)
dev.off()
